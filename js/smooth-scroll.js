!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.SmoothScroll=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(t){"use strict";var e={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0},n=function(){var t={};return Array.prototype.forEach.call(arguments,function(e){for(var n in e){if(!e.hasOwnProperty(n))return;t[n]=e[n]}}),t},o=function(t){var e;try{e=decodeURIComponent(t)}catch(n){e=t}return e},a=function(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,n,o=String(t),a=o.length,r=-1,i="",c=o.charCodeAt(0);++r<a;){if(0===(e=o.charCodeAt(r)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");e>=1&&e<=31||127==e||0===r&&e>=48&&e<=57||1===r&&e>=48&&e<=57&&45===c?i+="\\"+e.toString(16)+" ":i+=e>=128||45===e||95===e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122?o.charAt(r):"\\"+o.charAt(r)}try{n=decodeURIComponent("#"+i)}catch(t){n="#"+i}return n},r=function(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)},i=function(e){return e?(n=e,parseInt(t.getComputedStyle(n).height,10)+e.offsetTop):0;var n},c=function(e,n,o,a){if(n.emitEvents&&"function"==typeof t.CustomEvent){var r=new CustomEvent(e,{bubbles:!0,detail:{anchor:o,toggle:a}});document.dispatchEvent(r)}};return function(u,s){var l,d,f,m,h={};h.cancelScroll=function(t){cancelAnimationFrame(m),m=null,t||c("scrollCancel",l)},h.animateScroll=function(o,a,u){var s=n(l||e,u||{}),d="[object Number]"===Object.prototype.toString.call(o),p=d||!o.tagName?null:o;if(d||p){var g=t.pageYOffset;s.header&&!f&&(f=document.querySelector(s.header));var y,v,S,E=i(f),b=d?o:function(e,n,o,a){var i=0;if(e.offsetParent)do{i+=e.offsetTop,e=e.offsetParent}while(e);return i=Math.max(i-n-o,0),a&&(i=Math.min(i,r()-t.innerHeight)),i}(p,E,parseInt("function"==typeof s.offset?s.offset(o,a):s.offset,10),s.clip),O=b-g,I=r(),M=0,A=function(t,e){var n=e.speedAsDuration?e.speed:Math.abs(t/1e3*e.speed);return e.durationMax&&n>e.durationMax?e.durationMax:e.durationMin&&n<e.durationMin?e.durationMin:n}(O,s),C=function(e,n){var r=t.pageYOffset;if(e==n||r==n||(g<n&&t.innerHeight+r)>=I)return h.cancelScroll(!0),function(e,n,o){0===e&&document.body.focus(),o||(e.focus(),document.activeElement!==e&&(e.setAttribute("tabindex","-1"),e.focus(),e.style.outline="none"),t.scrollTo(0,n))}(o,n,d),c("scrollStop",s,o,a),y=null,m=null,!0},w=function(e){var n,o,a;y||(y=e),v=(M+=e-y)/parseInt(A,10),S=g+O*(o=v=v>1?1:v,"easeInQuad"===(n=s).easing&&(a=o*o),"easeOutQuad"===n.easing&&(a=o*(2-o)),"easeInOutQuad"===n.easing&&(a=o<.5?2*o*o:(4-2*o)*o-1),"easeInCubic"===n.easing&&(a=o*o*o),"easeOutCubic"===n.easing&&(a=--o*o*o+1),"easeInOutCubic"===n.easing&&(a=o<.5?4*o*o*o:(o-1)*(2*o-2)*(2*o-2)+1),"easeInQuart"===n.easing&&(a=o*o*o*o),"easeOutQuart"===n.easing&&(a=1- --o*o*o*o),"easeInOutQuart"===n.easing&&(a=o<.5?8*o*o*o*o:1-8*--o*o*o*o),"easeInQuint"===n.easing&&(a=o*o*o*o*o),"easeOutQuint"===n.easing&&(a=1+--o*o*o*o*o),"easeInOutQuint"===n.easing&&(a=o<.5?16*o*o*o*o*o:1+16*--o*o*o*o*o),n.customEasing&&(a=n.customEasing(o)),a||o),t.scrollTo(0,Math.floor(S)),C(S,b)||(m=t.requestAnimationFrame(w),y=e)};0===t.pageYOffset&&t.scrollTo(0,0),function(t,e,n){e||history.pushState&&n.updateURL&&history.pushState({smoothScroll:JSON.stringify(n),anchor:t.id},document.title,t===document.documentElement?"#top":"#"+t.id)}(o,d,s),c("scrollStart",s,o,a),h.cancelScroll(!0),t.requestAnimationFrame(w)}};var p=function(e){if(!("matchMedia"in t&&t.matchMedia("(prefers-reduced-motion)").matches)&&0===e.button&&!e.metaKey&&!e.ctrlKey&&"closest"in e.target&&(d=e.target.closest(u))&&"a"===d.tagName.toLowerCase()&&!e.target.closest(l.ignore)&&d.hostname===t.location.hostname&&d.pathname===t.location.pathname&&/#/.test(d.href)){var n=a(o(d.hash)),r=l.topOnEmptyHash&&"#"===n?document.documentElement:document.querySelector(n);(r=r||"#top"!==n?r:document.documentElement)&&(e.preventDefault(),function(e){if(history.replaceState&&e.updateURL&&!history.state){var n=t.location.hash;n=n||t.pageYOffset,history.replaceState({smoothScroll:JSON.stringify(e),anchor:n||t.pageYOffset},document.title,n||t.location.href)}}(l),h.animateScroll(r,d))}},g=function(t){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(l)){var e=history.state.anchor;e&&0!==e&&!(e=document.querySelector(a(o(history.state.anchor))))||h.animateScroll(e,null,{updateURL:!1})}};return h.destroy=function(){l&&(document.removeEventListener("click",p,!1),t.removeEventListener("popstate",g,!1),h.cancelScroll(),l=null,d=null,f=null,m=null)},h.init=function(o){if(!("querySelector"in document&&"addEventListener"in t&&"requestAnimationFrame"in t&&"closest"in t.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";h.destroy(),l=n(e,o||{}),f=l.header?document.querySelector(l.header):null,document.addEventListener("click",p,!1),l.updateURL&&l.popstate&&t.addEventListener("popstate",g,!1)},h.init(s),h}});