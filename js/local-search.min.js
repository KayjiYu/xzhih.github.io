var keepSearchData=function(e){fetch(e+"searchData.json").then(function(e){return e.json()}).then(function(e){localStorage.setItem("searchData",JSON.stringify(e))})},checkAndGetData=function(t){fetch(t+"searchVersion.txt?t="+ +new Date).then(function(e){return e.text()}).then(function(e){localStorage.getItem("searchVersion")!==e&&(localStorage.setItem("searchVersion",e),keepSearchData(t))}),searchFunc("local-search-input","local-search-result")},searchFunc=function(e,t){"use strict";var a=localStorage.getItem("searchData"),r=JSON.parse(a),n=document.getElementById(e);if(n){var c=document.getElementById(t);n.addEventListener("input",function(){"string"!=typeof a&&(a=localStorage.getItem("searchData"),r=JSON.parse(a));var f='<ul class="search-result-list">',g=this.value.trim().toLowerCase().split(/[\s\-]+/);c.innerHTML="",this.value.trim().length<=0||(r.forEach(function(e){var a=!0;e.title&&""!==e.title.trim()||(e.title="Untitled");var r=e.title.trim().toLowerCase(),n=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),t=e.url,c=-1,s=-1,i=-1;if(""!==n?g.forEach(function(e,t){c=r.indexOf(e),s=n.indexOf(e),c<0&&s<0?a=!1:(s<0&&(s=0),0==t&&(i=s))}):a=!1,a){f+="<li><a href='"+t+"' class='search-result-title'>"+r+"</a>";var l=e.content.trim().replace(/<[^>]+>/g,"");if(0<=i){var o=i-20,h=i+80;o<0&&(o=0),0==o&&(h=100),h>l.length&&(h=l.length);var u=l.substr(o,h);g.forEach(function(e){var t=new RegExp(e,"gi");u=u.replace(t,'<em class="search-keyword">'+e+"</em>")}),f+='<p class="search-result">'+u+"...</p>"}f+="</li>"}}),f+="</ul>",c.innerHTML=f)})}};