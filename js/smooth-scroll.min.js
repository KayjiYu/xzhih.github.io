!function(t,e){"function"==typeof define&&define.amd?define([],function(){return e(t)}):"object"==typeof exports?module.exports=e(t):t.SmoothScroll=e(t)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(O){"use strict";function I(){var n={};return Array.prototype.forEach.call(arguments,function(t){for(var e in t){if(!t.hasOwnProperty(e))return;n[e]=t[e]}}),n}function r(e){var n;try{n=decodeURIComponent(e)}catch(t){n=e}return n}function i(t){"#"===t.charAt(0)&&(t=t.substr(1));for(var e,n,o=String(t),a=o.length,r=-1,i="",c=o.charCodeAt(0);++r<a;){if(0===(e=o.charCodeAt(r)))throw new InvalidCharacterError("Invalid character: the input contains U+0000.");1<=e&&e<=31||127==e||0===r&&48<=e&&e<=57||1===r&&48<=e&&e<=57&&45===c?i+="\\"+e.toString(16)+" ":i+=128<=e||45===e||95===e||48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122?o.charAt(r):"\\"+o.charAt(r)}try{n=decodeURIComponent("#"+i)}catch(t){n="#"+i}return n}function M(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)}function A(t){return t?function(t){return parseInt(O.getComputedStyle(t).height,10)}(t)+t.offsetTop:0}function C(t,e,n,o){if(e.emitEvents&&"function"==typeof O.CustomEvent){var a=new CustomEvent(t,{bubbles:!0,detail:{anchor:n,toggle:o}});document.dispatchEvent(a)}}var w={ignore:"[data-scroll-ignore]",header:null,topOnEmptyHash:!0,speed:500,speedAsDuration:!1,durationMax:null,durationMin:null,clip:!0,offset:0,easing:"easeInOutCubic",customEasing:null,updateURL:!0,popstate:!0,emitEvents:!0};return function(o,t){var v,a,S,E,b={};b.cancelScroll=function(t){cancelAnimationFrame(E),E=null,t||C("scrollCancel",v)},b.animateScroll=function(o,a,t){var r=I(v||w,t||{}),i="[object Number]"===Object.prototype.toString.call(o),e=i||!o.tagName?null:o;if(i||e){var c=O.pageYOffset;r.header&&!S&&(S=document.querySelector(r.header));var u,n,s,l=A(S),d=i?o:function(t,e,n,o){var a=0;if(t.offsetParent)for(;a+=t.offsetTop,t=t.offsetParent;);return a=Math.max(a-e-n,0),o&&(a=Math.min(a,M()-O.innerHeight)),a}(e,l,parseInt("function"==typeof r.offset?r.offset(o,a):r.offset,10),r.clip),f=d-c,m=M(),h=0,p=function(t,e){var n=e.speedAsDuration?e.speed:Math.abs(t/1e3*e.speed);return e.durationMax&&n>e.durationMax?e.durationMax:e.durationMin&&n<e.durationMin?e.durationMin:n}(f,r),g=function(t,e){var n=O.pageYOffset;if(t==e||n==e||(c<e&&O.innerHeight+n)>=m)return b.cancelScroll(!0),function(t,e,n){0===t&&document.body.focus(),n||(t.focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus(),t.style.outline="none"),O.scrollTo(0,e))}(o,e,i),C("scrollStop",r,o,a),!(E=u=null)},y=function(t){n=(h+=t-(u=u||t))/parseInt(p,10),s=c+f*function(t,e){var n;return"easeInQuad"===t.easing&&(n=e*e),"easeOutQuad"===t.easing&&(n=e*(2-e)),"easeInOutQuad"===t.easing&&(n=e<.5?2*e*e:(4-2*e)*e-1),"easeInCubic"===t.easing&&(n=e*e*e),"easeOutCubic"===t.easing&&(n=--e*e*e+1),"easeInOutCubic"===t.easing&&(n=e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1),"easeInQuart"===t.easing&&(n=e*e*e*e),"easeOutQuart"===t.easing&&(n=1- --e*e*e*e),"easeInOutQuart"===t.easing&&(n=e<.5?8*e*e*e*e:1-8*--e*e*e*e),"easeInQuint"===t.easing&&(n=e*e*e*e*e),"easeOutQuint"===t.easing&&(n=1+--e*e*e*e*e),"easeInOutQuint"===t.easing&&(n=e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e),t.customEasing&&(n=t.customEasing(e)),n||e}(r,n=1<n?1:n),O.scrollTo(0,Math.floor(s)),g(s,d)||(E=O.requestAnimationFrame(y),u=t)};0===O.pageYOffset&&O.scrollTo(0,0),function(t,e,n){e||history.pushState&&n.updateURL&&history.pushState({smoothScroll:JSON.stringify(n),anchor:t.id},document.title,t===document.documentElement?"#top":"#"+t.id)}(o,i,r),C("scrollStart",r,o,a),b.cancelScroll(!0),O.requestAnimationFrame(y)}};function e(t){if(!("matchMedia"in O&&O.matchMedia("(prefers-reduced-motion)").matches)&&0===t.button&&!t.metaKey&&!t.ctrlKey&&"closest"in t.target&&(a=t.target.closest(o))&&"a"===a.tagName.toLowerCase()&&!t.target.closest(v.ignore)&&a.hostname===O.location.hostname&&a.pathname===O.location.pathname&&/#/.test(a.href)){var e=i(r(a.hash)),n=v.topOnEmptyHash&&"#"===e?document.documentElement:document.querySelector(e);(n=n||"#top"!==e?n:document.documentElement)&&(t.preventDefault(),function(t){if(history.replaceState&&t.updateURL&&!history.state){var e=O.location.hash;e=e||O.pageYOffset,history.replaceState({smoothScroll:JSON.stringify(t),anchor:e||O.pageYOffset},document.title,e||O.location.href)}}(v),b.animateScroll(n,a))}}function n(t){if(null!==history.state&&history.state.smoothScroll&&history.state.smoothScroll===JSON.stringify(v)){var e=history.state.anchor;e&&0!==e&&!(e=document.querySelector(i(r(history.state.anchor))))||b.animateScroll(e,null,{updateURL:!1})}}return b.destroy=function(){v&&(document.removeEventListener("click",e,!1),O.removeEventListener("popstate",n,!1),b.cancelScroll(),E=S=a=v=null)},b.init=function(t){if(!("querySelector"in document&&"addEventListener"in O&&"requestAnimationFrame"in O&&"closest"in O.Element.prototype))throw"Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.";b.destroy(),v=I(w,t||{}),S=v.header?document.querySelector(v.header):null,document.addEventListener("click",e,!1),v.updateURL&&v.popstate&&O.addEventListener("popstate",n,!1)},b.init(t),b}});